@model EVENT_VER5.Models.EVENT

@{
    ViewBag.Title = "Details";
}

@if (Session["username"] != null)
{
    <body style="background-color:#f5f5f5;">
        <div class="section">
            <div class="container " style="background-color:#fff;border-radius:5px;margin-bottom:30px;">

                <div class="row">
                    <h1 class="text-center">@Model.EVENT_NAME</h1>
                </div>

                <div class="row create-text">
                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6  ">
                        <div class="row">
                            <p>@Model.DETAIL</p>
                        </div>
                        <div class="row">
                            @foreach (var item in Model.MEMBER1)
                            {
                                <p>Organize by : @item.FNAME</p>
                            }
                            <p>Category : @Model.CATEGORY</p>
                            <p>Start : @Model.TIME_START_E</p>
                            <p>End : @Model.TIME_END_E</p>
                            <p>Property </p>
                            <p>   - Minimum Age : @Model.CONDITION_MIN_AGE</p>
                            <p>   - Maximum Age : @Model.CONDITION_MAX_AGE</p>
                            <p>Ticket : @Model.PRICE</p>
                            <p>Seat : @Model.MEMBER.Count()/@Model.MAX_SEAT</p>
                        </div>
                        <div class="row">
                            @if (Model.MEMBER.Where(m => m.MEMBER_ID.Equals(Session["id"])).FirstOrDefault() == null && Model.MEMBER1.Where(m => m.MEMBER_ID.Equals(Session["id"])).FirstOrDefault() == null)
                            {
                                <input type="submit" name="submitbtn" class="btn btn-sm button-site" value="BUY TICKET" style="margin-right:10px;background-color:#EDA23E;" data-toggle="modal" data-target="#myModal1">
                                <div class="modal fade" id="myModal1" role="dialog">
                                    <div class="modal-dialog">
                                        <!-- Modal content-->
                                        <div class="modal-content" style="width:350px; height:200px; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); margin-top:250px;">
                                            <div class="text-center" style="margin-top:50px;">
                                                <h3>Buy ticket</h3>
                                            </div>
                                            <div class="text-center" style="margin-top:30px;">
                                                @Html.ActionLink("Yes", "Join", new { id = Model.EVENT_ID }, new { @class = "btn btn-default", @style = "width:100px;" })
                                                <input type="button" class="btn btn-default" style="width:100px;" data-dismiss="modal" value="No">
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            }

                            <input type="submit" name="submitbtn" class="btn btn-sm button-site" value="GIFT" style="background-color:#EDA23E;" data-toggle="modal" data-target="#myModal">
                            <div class="modal fade" id="myModal" role="dialog">
                                <div class="modal-dialog">
                                    <!-- Modal content-->
                                    <div class="modal-content" style="width:400px; height:200px;position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); margin-top:250px;">
                                        <div class="text-center" style="margin-top:40px;">
                                            <h3>Gift</h3>
                                        </div>
@using (Html.BeginForm())
{
                                        <div class="row">
                                            <div id="send">Send to</div>
                                            @Html.TextBox("user_name", null, new { @type = "search", @id = "in" })
                                            @*<div id="in"><input type="text"></div>*@
                                        </div>
                                        <div class="row text-center">

                                            @*@Html.ActionLink("send", "Join", new { id = Model.EVENT_ID }, new { @class = "btn btn-default" })*@
                                            <input type="submit" class="btn btn-default" value="send">

                                            <input type="button" class="btn btn-default" data-dismiss="modal" value="cancle">
                                        </div>
}
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                        <div class="row">
                            <img class="img-responsive  img-thumbnail" src=@Model.PICTURE>
                        </div>
                        @if (Model.VIDEO != null)
                        {
                            <div class="row embed-responsive embed-responsive-4by3">
                                <iframe class="embed-responsive-item" style="width:100%; height:270px;" src=@Model.VIDEO allowfullscreen></iframe>
                            </div>
                        }
                    </div>

                </div>



                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 create-date-header-top" style="margin-top:20px;">
                    </div>

                    <div class="row">
                        <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3  ">
                            <a href="#">
                                <img class="img-responsive  img-thumbnail" src="../../Content/img/dance2.jpg">
                                <p style="color:#A82221;">Birthday Party - ขอเชิญแฟนคลับมาร่วมกันในงาน โดยเราจะเลือกผู้โชคดี50คน</p>
                            </a>
                        </div>
                        <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 ">
                            <a href="#">
                                <img class="img-responsive  img-thumbnail" src="../../Content/img/dance3.jpg">
                                <p style="color:#A82221;">Birthday Party - ขอเชิญแฟนคลับมาร่วมกันในงาน โดยเราจะเลือกผู้โชคดี50คน</p>
                            </a>
                        </div>
                        <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 ">
                            <a href="#">
                                <img class="img-responsive  img-thumbnail" src="../../Content/img/dance4.jpg">
                                <p style="color:#A82221;">Birthday Party - ขอเชิญแฟนคลับมาร่วมกันในงาน โดยเราจะเลือกผู้โชคดี50คน</p>
                            </a>
                        </div>
                        <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 ">
                            <a href="#">
                                <img class="img-responsive  img-thumbnail" src="../../Content/img/dance5.jpg">
                                <p style="color:#A82221;">Birthday Party - ขอเชิญแฟนคลับมาร่วมกันในงาน โดยเราจะเลือกผู้โชคดี50คน</p>
                            </a>
                        </div>
                    </div>

                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 create-date-header-top">
                    </div>

                </div>
            </div>

    </body>

}
else
{
    @Html.Action("Index", "Home")
}

@*@using (Html.BeginForm("Details", "EVENTs", FormMethod.Post))
{
<div>
    <h4>EVENT</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.EVENT_NAME)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.EVENT_NAME)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.CATEGORY)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CATEGORY)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.DETAIL)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.DETAIL)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PICTURE)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PICTURE)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.VIDEO)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.VIDEO)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.TIME_START_E)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.TIME_START_E)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.TIME_END_E)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.TIME_END_E)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.CONDITION_MIN_AGE)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CONDITION_MIN_AGE)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.CONDITION_MAX_AGE)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CONDITION_MAX_AGE)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.CONDITION_SEX)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CONDITION_SEX)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.SOLD_OUT_SEAT)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.SOLD_OUT_SEAT)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.MAX_SEAT)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.MAX_SEAT)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PRICE)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PRICE)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.LOCATION)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.LOCATION)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PROMOTE_E.TARGET_GENDER)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PROMOTE_E.TARGET_GENDER)
        </dd>
    </dl>
</div>
<p>
    <input type="submit" id="submitbtn" class="btn btn-sm button-site col-md-2 col-lg-2 col-md-offset-4 col-lg-offset-4" value="JOIN ">
    @Html.ActionLink("Edit", "Edit", new { id = Model.EVENT_ID }) |
    @Html.ActionLink("Back to List", "Index")
</p>
}*@